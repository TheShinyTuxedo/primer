/*
//  grid.less
//  Primer
//  https://github.com/j4cq/primer
//
//  Copyright (c) 2017 Jacqueline Wheeler. All rights reserved.
//  Licensed under MIT.
*/

.row {
    .cf;
    display: block;
    margin-left: -@spacing;
    margin-right: -@spacing;
}

.col {
    float: left;
    width: 100%;
    padding-left: @spacing;
    padding-right: @spacing;
    min-height: 1px;

    .row--inline-block > & {
        display: inline-block;
        float: none;
        vertical-align: top;
        margin-left: -3px;
        margin-right: -3px;
    }
}

.row--hairline {
    margin-left: -1px;
    margin-right: -1px;
    border-left: 1px solid transparent;

    > .col {
        padding-left: 0;
        padding-right: 0;
        border-right: 1px solid transparent;
    }
}

.row--sml {
    margin-left: -@spacing / 2;
    margin-right: -@spacing / 2;

    > .col {
        padding-left: @spacing / 2;
        padding-right: @spacing / 2;
    }
}

.row--med {
    margin-left: -@spacing * 2;
    margin-right: -@spacing * 2;

    > .col {
        padding-left: @spacing * 2;
        padding-right: @spacing * 2;
    }
}

.row--lge {
    margin-left: -@spacing * 3;
    margin-right: -@spacing * 3;

    > .col {
        padding-left: @spacing * 3;
        padding-right: @spacing * 3;
    }
}

.row--xlge {
    margin-left: -@spacing * 4;
    margin-right: -@spacing * 4;

    > .col {
        padding-left: @spacing * 4;
        padding-right: @spacing * 4;
    }
}

.row--flush {
    margin-left: 0;
    margin-right: 0;

    > .col {
        padding-left: 0;
        padding-right: 0;
    }
}


// column generators

.createColumn(@index, @columns) when (@index >= 0) {
    // create class
    .col--@{index}of@{columns} {
        width: 100% / @columns * @index;
    }

    .push--@{index}of@{columns} {
        margin-left: 100% / @columns * @index;
    }

    // next iteration
    .createColumn(@index - 1, @columns);
}

.createColumn(@index, @columns, @media) when (@index >= 0) {
    // create class
    .col--@{index}of@{columns}@{media} {
        width: 100% / @columns * @index;
    }

    .push--@{index}of@{columns}@{media} {
        margin-left: 100% / @columns * @index;
    }

    // next iteration
    .createColumn(@index - 1, @columns, @media);
}

.createColumn(-1, @columns) {}

// call looping mixin
.createColumn(12, 12);
.createColumn(10, 10);

.media-small() {
    .createColumn(12, 12, -s);
    .createColumn(10, 10, -s);
}

.media-small-medium() {
    .createColumn(12, 12, -sm);
    .createColumn(10, 10, -sm);
}

.media-medium() {
    .createColumn(12, 12, -m);
    .createColumn(10, 10, -m);
}

.media-medium-large() {
    .createColumn(12, 12, -ml);
    .createColumn(10, 10, -ml);
}

.media-large() {
    .createColumn(12, 12, -l);
    .createColumn(10, 10, -l);
}

.media-extra-large() {
    .createColumn(12, 12, -xl);
    .createColumn(10, 10, -xl);
}


// table grid

.row--table {
    display: table !important;
    width: 100%;

    > .col {
        display: table-cell !important;
        float: none !important;
        vertical-align: top;
    }
}

.media-small() {
    .row--table-s {
        .row--table;
    }
}

.media-small-medium() {
    .row--table-sm {
        .row--table;
    }
}

.media-medium() {
    .row--table-m {
        .row--table;
    }
}

.media-medium-large() {
    .row--table-ml {
        .row--table;
    }
}

.media-large() {
    .row--table-l {
        .row--table;
    }
}

.media-extra-large() {
    .row--table-xl {
        .row--table;
    }
}
